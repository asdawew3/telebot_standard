多浏览器实例爬虫调度系统

项目概述

多浏览器实例爬虫调度系统是一个专为复杂反爬/高度混淆难以还原解密的接口设计的爬虫框架。系统通过启动真实Chrome浏览器实例并由Selenium接管，实现对目标网站的精确模拟与数据采集。

本系统采用服务器-客户端架构，后端统一调度多账号多实例，通过启动Chrome浏览器并使用Selenium进行操作，行为脚本以JS模块形式打包并由后台注入，客户端可远程连接实例并接管浏览器控制台，实现了爬虫逻辑与调度框架的完全解耦。

[图片1：系统架构总览图 - 展示服务端、客户端和浏览器实例之间的关系]

系统架构

服务端组件
- 实例管理器: 负责Chrome浏览器实例的创建、监控与销毁
- 网络管理器: 处理网络请求拦截、修改与代理
- DevTools管理器: 基于Chrome DevTools Protocol实现浏览器控制
- JS管理器: 负责JavaScript脚本的注入与执行
- 配置管理: 处理系统配置与用户配置
- 认证系统: 提供用户认证与权限控制
- Web服务: 提供Web界面进行系统管理

[图片2：服务端组件交互图 - 展示各组件之间的数据流]

客户端组件
- API客户端: 与服务端进行通信
- Web应用: 提供用户界面
- 控制台管理器: 实现浏览器控制台的远程接管
- DevTools客户端: 连接并控制远程浏览器实例

[图片3：客户端界面截图 - 展示Web控制台界面]

JS模块
- 消息队列系统: 确保指令按序执行
- 控制台控制系统: 实现控制台功能
- 网络钩子: 拦截与修改网络请求

[图片4：JS模块工作流程图 - 展示JS模块如何与浏览器实例交互]

主要功能

1. 浏览器实例管理
   - 创建、监控与销毁Chrome浏览器实例
   - 支持多账号、多实例并行运行
   - 实例状态实时监控

[图片5：实例管理界面截图 - 展示多个浏览器实例的管理界面]

2. 网络请求处理
   - 请求拦截与修改
   - Header/Cookie/Payload动态调整
   - 网络流量分析与记录

[图片6：网络请求监控界面截图 - 展示网络请求的拦截与修改]

3. 远程控制
   - 浏览器控制台远程接管
   - JavaScript脚本远程注入与执行
   - 实时日志查看

4. 用户管理
   - 多用户支持
   - 权限控制
   - 操作审计

安装与配置

系统要求
- Python 3.8+
- Chrome浏览器
- ChromeDriver (与Chrome版本匹配)

安装依赖
```
pip install -r requirements.txt
```

配置文件
系统配置存储在config.json中，客户端配置存储在client_config.json中。

使用说明

启动系统
```
python start_system.py
```

启动客户端
```
python client_web.py
```

访问Web界面
- 服务端管理界面: http://localhost:5000
- 客户端界面: http://localhost:5001

[图片7：系统启动流程图 - 展示从启动到可用的完整流程]

开发指南

添加新的爬虫脚本
1. 在js_modules目录下创建新的JavaScript模块
2. 实现所需的爬虫逻辑
3. 通过系统Web界面上传并关联到特定实例

[图片8：爬虫脚本开发流程图 - 展示从脚本编写到部署的流程]

扩展系统功能
系统采用模块化设计，可通过扩展以下组件增加新功能:
- 服务端: 添加新的管理器或路由
- 客户端: 扩展Web界面或API
- JS模块: 实现新的浏览器控制逻辑

项目结构
```
telebot_standard/
  ├── client/              # 客户端代码
  ├── server/              # 服务端代码
  ├── js_modules/          # JavaScript模块
  ├── data/                # 数据存储
  ├── config.json          # 服务端配置
  ├── client_config.json   # 客户端配置
  ├── server.py            # 服务端入口
  ├── client_web.py        # 客户端入口
  └── start_system.py      # 系统启动脚本
```

注意事项
- 系统设计用于合法的数据采集，请遵守相关法律法规和网站使用条款
- 高并发场景下请注意资源占用，合理配置实例数量
- 定期检查并更新ChromeDriver，确保与Chrome版本匹配 